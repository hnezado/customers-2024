(function(){"use strict";var e={9362:function(e,t,s){var n=s(9242),o=s(3396),i=s(7139);function a(e,t,s,n,a,r){const l=(0,o.up)("NavBar"),c=(0,o.up)("router-view"),u=(0,o.up)("NoResponse"),d=(0,o.up)("Spinner");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",{class:(0,i.C_)(["overlay-darkener",{"darkener-active":a.darkener}])},null,2),(0,o.Wm)(l),(0,o.Wm)(c),(0,o.Wm)(u,{responseData:a.noResponse},null,8,["responseData"]),(0,o.Wm)(d,{isLoading:a.isLoading},null,8,["isLoading"])],64)}const r={key:1,id:"navbar"},l={key:0},c={key:0,width:"30px",height:"30px",viewBox:"0 0 640 512"},u=(0,o._)("path",{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},null,-1),d=[u],h={key:1,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"30px",y:"30px",viewBox:"0 0 256 256","xml:space":"preserve"},p=(0,o._)("g",null,[(0,o._)("path",{d:"M68.3,69.8c0,33,26.8,59.8,59.8,59.8c33,0,59.8-26.8,59.8-59.8c0-33-26.8-59.8-59.8-59.8C95.1,10,68.3,36.8,68.3,69.8L68.3,69.8z"}),(0,o._)("path",{d:"M129.5,140.2c13.9,0.4,19,1.2,44.1-16.3c4.4-4.8,9.1-5.6,13.1-5.6s24.6,3.2,35.7,25c11.1,21.8,15.5,48.5,13.1,67.9c-2.4,19.5-14.3,33-40.1,34.1c-25.8,1.2-143,0-143,0c-19.5,0-32.2-19.5-32.6-41.3c-0.4-21.8,4-50,16.3-67.5c12.3-17.5,32.2-19.1,38.1-17.1C87,124,99.7,139.4,129.5,140.2z"})],-1),g=[p],m={key:0,width:"30px",height:"30px",viewBox:"0 0 640 512"},v=(0,o._)("path",{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},null,-1),w=[v],f={key:1,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"30px",y:"30px",viewBox:"0 0 256 256","xml:space":"preserve"},k=(0,o._)("g",null,[(0,o._)("path",{d:"M68.3,69.8c0,33,26.8,59.8,59.8,59.8c33,0,59.8-26.8,59.8-59.8c0-33-26.8-59.8-59.8-59.8C95.1,10,68.3,36.8,68.3,69.8L68.3,69.8z"}),(0,o._)("path",{d:"M129.5,140.2c13.9,0.4,19,1.2,44.1-16.3c4.4-4.8,9.1-5.6,13.1-5.6s24.6,3.2,35.7,25c11.1,21.8,15.5,48.5,13.1,67.9c-2.4,19.5-14.3,33-40.1,34.1c-25.8,1.2-143,0-143,0c-19.5,0-32.2-19.5-32.6-41.3c-0.4-21.8,4-50,16.3-67.5c12.3-17.5,32.2-19.1,38.1-17.1C87,124,99.7,139.4,129.5,140.2z"})],-1),_=[k],y=(0,o._)("hr",null,null,-1);function D(e,t,s,n,a,u){const p=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[a.smallScreen?((0,o.wg)(),(0,o.iD)("div",{key:0,id:"v-navbar-toggle",onClick:t[0]||(t[0]=(...e)=>u.toggleMenu&&u.toggleMenu(...e)),style:(0,i.j5)({color:a.menuToggleColor})},(0,i.zw)(a.openedMenu?"✖":"☰"),5)):(0,o.kq)("",!0),a.smallScreen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("nav",r,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/"===a.viewActive}]),to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1},8,["class"])]),(0,o._)("li",null,[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/catalog"===a.viewActive}]),to:"/catalog"},{default:(0,o.w5)((()=>[(0,o.Uk)("Products")])),_:1},8,["class"])]),(0,o._)("li",null,[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/locations"===a.viewActive}]),to:"/locations"},{default:(0,o.w5)((()=>[(0,o.Uk)("Locations")])),_:1},8,["class"])]),(0,o._)("li",null,[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/contact"===a.viewActive}]),to:"/contact"},{default:(0,o.w5)((()=>[(0,o.Uk)("Contact")])),_:1},8,["class"])]),a.session.logged&&"admin"===a.session.userData.role?((0,o.wg)(),(0,o.iD)("li",l,[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/customers/list"===a.viewActive}]),to:"/customers/list"},{default:(0,o.w5)((()=>[(0,o.Uk)("⚙️ Customers")])),_:1},8,["class"])])):(0,o.kq)("",!0)]),a.session.logged?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)(["nav-link profile-link",{"tab-active":"/profile"===a.viewActive}]),onClick:t[1]||(t[1]=(...e)=>u.goToProfile&&u.goToProfile(...e))},["admin"===a.session.userData.role?((0,o.wg)(),(0,o.iD)("svg",c,d)):((0,o.wg)(),(0,o.iD)("svg",h,g)),(0,o._)("div",null,(0,i.zw)(a.session.userData.username),1)],2)):(0,o.kq)("",!0)])),a.smallScreen?((0,o.wg)(),(0,o.iD)("nav",{key:2,id:"v-navbar",class:(0,i.C_)({"v-navbar-active":a.openedMenu})},[a.session.logged?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)(["nav-link profile-link",{"tab-active":"/profile"===a.viewActive}]),onClick:t[2]||(t[2]=(...e)=>u.goToProfile&&u.goToProfile(...e))},["admin"===a.session.userData.role?((0,o.wg)(),(0,o.iD)("svg",m,w)):((0,o.wg)(),(0,o.iD)("svg",f,_)),(0,o._)("div",null,(0,i.zw)(a.session.userData.username),1)],2)):(0,o.kq)("",!0),y,(0,o._)("ul",null,[(0,o._)("li",{onClick:t[3]||(t[3]=(...e)=>u.hideMenu&&u.hideMenu(...e))},[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/"===a.viewActive}]),to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1},8,["class"])]),(0,o._)("li",{onClick:t[4]||(t[4]=(...e)=>u.hideMenu&&u.hideMenu(...e))},[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/catalog"===a.viewActive}]),to:"/catalog"},{default:(0,o.w5)((()=>[(0,o.Uk)("Products")])),_:1},8,["class"])]),(0,o._)("li",{onClick:t[5]||(t[5]=(...e)=>u.hideMenu&&u.hideMenu(...e))},[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/locations"===a.viewActive}]),to:"/locations"},{default:(0,o.w5)((()=>[(0,o.Uk)("Locations")])),_:1},8,["class"])]),(0,o._)("li",{onClick:t[6]||(t[6]=(...e)=>u.hideMenu&&u.hideMenu(...e))},[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/contact"===a.viewActive}]),to:"/contact"},{default:(0,o.w5)((()=>[(0,o.Uk)("Contact")])),_:1},8,["class"])]),a.session.logged&&"admin"===a.session.userData.role?((0,o.wg)(),(0,o.iD)("li",{key:0,onClick:t[7]||(t[7]=(...e)=>u.hideMenu&&u.hideMenu(...e))},[(0,o.Wm)(p,{class:(0,i.C_)(["nav-link",{"tab-active":"/customers/list"===a.viewActive}]),to:"/customers/list"},{default:(0,o.w5)((()=>[(0,o.Uk)("⚙️ Customers")])),_:1},8,["class"])])):(0,o.kq)("",!0)])],2)):(0,o.kq)("",!0)],64)}s(560);var b={name:"NavBar",data(){return{smallScreen:!1,session:{},openedMenu:!1,menuToggleColor:"#333333",viewActive:""}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize),this.$eventBus.on("session",this.handleSession),this.$eventBus.on("viewActive",this.handleViewActive),this.$eventBus.emit("toggleDarkener",{enabled:!1});const[e,t]=this.checkSession();t&&this.updateSession(e,t)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize),this.$eventBus.off("session",this.handleSession)},computed:{computedMenuToggleColor(){return this.menuToggleColor}},methods:{checkScreenSize(){this.smallScreen=window.innerWidth<=768},checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return[t?JSON.parse(e):{},t]},updateSession(e,t){this.session.userData=e,this.session.logged=t},handleSession(e){this.session.logged=e.logged,this.session.userData=JSON.parse(sessionStorage.getItem("userData"))},handleViewActive(e){this.viewActive=e.view},toggleMenu(){this.openedMenu=!this.openedMenu,this.menuToggleColor=this.openedMenu?"#FFFFFF":"#333333",this.$eventBus.emit("toggleMenu",{opened:this.openedMenu})},hideMenu(){this.openedMenu=!1,this.menuToggleColor=this.openedMenu?"#FFFFFF":"#333333",this.$eventBus.emit("toggleMenu",{opened:this.openedMenu})},goToProfile(){this.hideMenu(),this.$router.push("/profile")}}},C=s(89);const $=(0,C.Z)(b,[["render",D]]);var S=$;const M={key:0,class:"main-container"},x=(0,o._)("h2",null,"No response",-1),U={class:"info"},z=(0,o._)("br",null,null,-1);function B(e,t,s,n,a,r){return a.status?((0,o.wg)(),(0,o.iD)("div",M,[(0,o._)("div",null,[x,(0,o._)("div",U,[(0,o._)("p",null,[(0,o.Uk)(" Path: "),(0,o._)("em",null,(0,i.zw)(a.path),1)]),(0,o._)("p",null,[(0,o.Uk)(" Component: "),(0,o._)("em",null,(0,i.zw)(a.pageName),1)]),z,(0,o._)("a",{onClick:t[0]||(t[0]=(...e)=>r.refreshPage&&r.refreshPage(...e)),class:"link"},"Refresh")])])])):(0,o.kq)("",!0)}var L={name:"NoResponsePage",props:{responseData:Object},data(){return{status:!1,pageName:"",path:""}},mounted(){this.updateData(this.responseData)},methods:{updateData(e){this.status=e.status,this.pageName=e.pageName,this.path=e.path},refreshPage(){"undefined"!==typeof window?window.location.reload():console.error("The page cannot refresh")}},watch:{responseData:{handler(e){this.updateData(e)}}}};const T=(0,C.Z)(L,[["render",B]]);var I=T;const P={key:0,class:"loader-spinner"},O={class:"spinner-overlay"},E=(0,o._)("div",{class:"spinner"},null,-1),R={class:"loading-text"},q={class:"dots"};function A(e,t,s,n,a,r){return s.isLoading?((0,o.wg)(),(0,o.iD)("div",P,[(0,o._)("div",O,[E,(0,o._)("p",R,[(0,o.Uk)(" Loading"),(0,o._)("span",q,(0,i.zw)(a.loadingText),1)])])])):(0,o.kq)("",!0)}var V={name:"LoaderSpinner",props:{isLoading:Boolean},data(){return{loadingText:"",textIndex:0,textChangeInterval:null}},methods:{changeText(){const e=["",".","..","...","..","."];this.loadingText=e[this.textIndex],this.textIndex=(this.textIndex+1)%e.length}},watch:{isLoading:{handler(){this.isLoading?this.textChangeInterval=setInterval(this.changeText,2e3/6):clearInterval(this.textChangeInterval)}}}};const N=(0,C.Z)(V,[["render",A]]);var j=N,W={name:"App",components:{NavBar:S,Spinner:j,NoResponse:I},data(){return{smallScreen:!1,inactivityTimeout:null,isLoading:!1,noResponse:{},serverUrl:"",darkener:!1,popup:!1,openedMenu:!1}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize),document.addEventListener("mousemove",this.resetInactivityTimeout),document.addEventListener("keydown",this.resetInactivityTimeout),this.$eventBus.on("loading",this.checkLoading),this.$eventBus.on("noResponse",this.checkNoResponse),this.$eventBus.on("togglePopup",this.togglePopup),this.$eventBus.on("toggleMenu",this.toggleMenu)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize),document.removeEventListener("mousemove",this.resetInactivityTimeout),document.removeEventListener("keydown",this.resetInactivityTimeout),this.$eventBus.off("inactivityTimeout",this.resetInactivityTimeout),this.$eventBus.off("loading",this.checkLoading),this.$eventBus.off("noResponse",this.checkNoResponse),this.$eventBus.off("togglePopup",this.togglePopup),this.$eventBus.off("toggleMenu",this.toggleMenu)},methods:{checkScreenSize(){this.smallScreen=window.innerWidth<=768,this.checkDarkener()},checkDarkener(){this.popup||this.openedMenu&&this.smallScreen?this.darkener=!0:this.darkener=!1},resetInactivityTimeout(){clearTimeout(this.inactivityTimeout),this.inactivityTimeout=setTimeout(this.clearSession,36e5)},clearSession(){const e=sessionStorage.getItem("userData");console.log("Clearing current Session:",e),sessionStorage.clear(),this.$eventBus.emit("session",{logged:!1})},checkLoading(e){this.isLoading=e.status},checkNoResponse(e){this.noResponse=e},togglePopup(e){this.popup=e.opened,this.checkDarkener()},toggleMenu(e){this.openedMenu=e.opened,this.checkDarkener()}}};const H=(0,C.Z)(W,[["render",a]]);var F=H,Y=s(2483);const Z={class:"main-container"},J={id:"home"},K=(0,o._)("h1",null,"EcoBr🔩co",-1),G=(0,o._)("h4",null,"Welcome to your DIY center",-1),Q={class:"welcome-card"},X=(0,o._)("span",null,[(0,o.Uk)("If you already have an account, "),(0,o._)("a",{href:"/login",class:"link"},"login"),(0,o.Uk)(".")],-1),ee=(0,o.uE)('<br><hr><br><section><strong>Your one-stop destination for all your home improvement needs.</strong></section><br><section><h3>Explore Our Categories</h3><p> Discover a wide range of tools, materials, and accessories to tackle any DIY project. From woodworking to plumbing, we&#39;ve got you covered. </p></section><br><section><h3>Featured Products</h3><p> Check out our curated selection of top-quality products, handpicked to inspire your next project. Find the tools and materials you need to bring your ideas to life. </p></section><br><section><h3>Expert Advice and Guides</h3><p> Whether you&#39;re a seasoned DIY enthusiast or just getting started, our expert guides and tips will help you navigate through your projects with confidence. Learn new techniques and stay informed about the latest trends in home improvement. </p></section><br><section><h3>Join Our DIY Community</h3><p> Connect with like-minded DIYers in our community forums. Share your projects, ask questions, and get advice from experienced DIY enthusiasts. Together, we can build and create amazing things. </p></section><br><br><h3 style="font-style:italic;"> Start your next DIY adventure with Your DIY Store. Empowering you to make your home uniquely yours. </h3>',15);function te(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("div",J,[K,G,(0,o._)("div",Q,[(0,o._)("div",{onClick:t[0]||(t[0]=(...e)=>a.signup&&a.signup(...e)),class:"button"},"Sign Up"),X]),ee])])}var se={name:"HomePage",mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path})},methods:{signup(){this.$router.push("/signup")}}};const ne=(0,C.Z)(se,[["render",te]]);var oe=ne;const ie={class:"main-container"},ae={id:"signup"},re={class:"session-card"},le=(0,o._)("h1",null,"Sign up",-1),ce=(0,o._)("hr",null,null,-1),ue={class:"label-input-groups"},de=(0,o._)("label",{for:"email"},"Email:",-1),he=(0,o._)("label",{for:"username"},"Username:",-1),pe=(0,o._)("label",{for:"password1"},"Password:",-1),ge=(0,o._)("label",{for:"password2"},"Re-enter password:",-1),me={class:"infoMsg"},ve=(0,o._)("button",{class:"button",type:"submit"},"Sign up",-1),we=(0,o._)("span",null,[(0,o._)("a",{href:"/login",class:"link"},"Login"),(0,o.Uk)(" instead?")],-1);function fe(e,t,s,a,r,l){return(0,o.wg)(),(0,o.iD)("div",ie,[(0,o._)("div",ae,[(0,o._)("div",re,[le,ce,(0,o._)("form",{onSubmit:t[4]||(t[4]=(0,n.iM)(((...e)=>l.signup&&l.signup(...e)),["prevent"]))},[(0,o._)("div",ue,[de,(0,o.wy)((0,o._)("input",{type:"text",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.newUser.email=e),required:""},null,512),[[n.nr,r.newUser.email]]),he,(0,o.wy)((0,o._)("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=e=>r.newUser.username=e),required:""},null,512),[[n.nr,r.newUser.username]]),pe,(0,o.wy)((0,o._)("input",{type:"password",id:"password1","onUpdate:modelValue":t[2]||(t[2]=e=>r.newUser.password1=e),required:""},null,512),[[n.nr,r.newUser.password1]]),ge,(0,o.wy)((0,o._)("input",{type:"password",id:"password2","onUpdate:modelValue":t[3]||(t[3]=e=>r.newUser.password2=e),required:""},null,512),[[n.nr,r.newUser.password2]])]),(0,o._)("p",me,(0,i.zw)(r.infoMsg),1),ve],32),we])])])}var ke={name:"SignupPage",data(){return{newUser:{email:"",username:"",password1:"",password2:""},infoMsg:""}},mounted(){const e=this.checkSession();e&&this.$router.push("/profile"),this.$nextTick((()=>{const e=this.$el.querySelector("#email");e&&e.focus()}))},methods:{checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return t},isValidData(){return this.newUser.password1===this.newUser.password2||(this.infoMsg="Password does not match",!1)},async signup(){if(this.isValidData())try{const e={email:this.newUser.email,username:this.newUser.username,password:this.newUser.password1},t=await fetch(`${this.$config.serverUrl}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();this.infoMsg=s.message,t.ok?(sessionStorage.setItem("signupUsername",s.data.username),this.$router.push("/login")):console.error("Error signing up")}catch(e){console.error("Error querying signup")}}}};const _e=(0,C.Z)(ke,[["render",fe]]);var ye=_e;const De={class:"main-container"},be={id:"login"},Ce={class:"session-card"},$e=(0,o._)("h1",null,"Login",-1),Se=(0,o._)("hr",null,null,-1),Me={class:"label-input-groups"},xe=(0,o._)("label",{for:"username"},"Username:",-1),Ue=(0,o._)("label",{for:"password"},"Password:",-1),ze={class:"infoMsg"},Be=(0,o._)("button",{class:"button",type:"submit"},"Login",-1),Le=(0,o._)("span",null,[(0,o.Uk)("You don't have an account? "),(0,o._)("a",{href:"/signup",class:"link"},"Sign up")],-1);function Te(e,t,s,a,r,l){return(0,o.wg)(),(0,o.iD)("div",De,[(0,o._)("div",be,[(0,o._)("div",Ce,[$e,Se,(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[(0,o._)("div",Me,[xe,(0,o.wy)((0,o._)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.loginData.username=e),required:""},null,512),[[n.nr,r.loginData.username]]),Ue,(0,o.wy)((0,o._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.loginData.password=e),required:""},null,512),[[n.nr,r.loginData.password]])]),(0,o._)("p",ze,(0,i.zw)(r.infoMsg),1),Be],32),Le])])])}var Ie={name:"LoginPage",data(){return{loginData:{username:"",password:""},infoMsg:"",noResponse:!1}},mounted(){const e=this.checkSession();if(e)this.$router.push("/profile");else{const e=sessionStorage.getItem("signupUsername");this.loginData.username=e||"",this.$nextTick((()=>{const t=e?this.$el.querySelector("#password"):this.$el.querySelector("#username");t&&t.focus()}))}},methods:{checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return t},async login(){try{const e=await fetch(`${this.$config.serverUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.loginData)}),t=await e.json();this.infoMsg=t.message,e.ok?(sessionStorage.clear(),sessionStorage.setItem("userData",JSON.stringify(t.data)),this.$eventBus.emit("session",{logged:!0}),this.$router.push("/profile")):console.error("Error logging in from backend")}catch(e){console.error("No response"),this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path})}}}};const Pe=(0,C.Z)(Ie,[["render",Te]]);var Oe=Pe;const Ee={key:0,class:"main-container"},Re={key:0,id:"profile"},qe=(0,o._)("h1",null,"My Profile Data",-1),Ae={class:"table-container"},Ve={class:"table-data"},Ne=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Key"),(0,o._)("th",null,"Value")])],-1),je={key:1,class:"info"},We=(0,o._)("p",null,"Session closed",-1);function He(e,t,s,n,a,r){return a.noResponse?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Ee,[a.session.logged?((0,o.wg)(),(0,o.iD)("div",Re,[qe,(0,o._)("div",Ae,[(0,o._)("table",Ve,[Ne,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.session.userData,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,(0,i.zw)(t),1),(0,o._)("td",null,(0,i.zw)(e),1)])))),128))])])]),(0,o._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e))},"Log out")])):((0,o.wg)(),(0,o.iD)("div",je,[We,(0,o._)("p",null,(0,i.zw)(a.logoutMsg),1)]))]))}var Fe={name:"ProfilePage",data(){return{session:{},noResponse:!1,isLoading:!0,pageName:this.$options.name,path:this.$route.path,logoutMsg:""}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$eventBus.on("session",this.handleSession);const[e,t]=this.checkSession();t?this.updateSession(e,t):this.$router.push("/login")},beforeUnmount(){this.$eventBus.off("session",this.handleSession)},methods:{handleSession(e){e.logged||this.$router.push("/login")},checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return[t?JSON.parse(e):{},t]},updateSession(e,t){this.session.userData=e,this.session.logged=t},logout(){sessionStorage.clear(),this.session.logged=!1,this.redirectToLogin()},redirectToLogin(){this.logoutMsg="Redirecting in 3s...";let e=3;const t=setInterval((()=>{e-=1,this.logoutMsg=`Redirecting in ${e}s...`,e<=0&&(clearInterval(t),this.$eventBus.emit("session",{logged:!1}))}),1e3)}}};const Ye=(0,C.Z)(Fe,[["render",He]]);var Ze=Ye;const Je={class:"main-container"},Ke=(0,o._)("div",{id:"locations"},[(0,o._)("h1",null,"📍 Our Locations"),(0,o._)("p",null," Explore our network of establishments to find the store closest to you. "),(0,o._)("p",null,"Begin your journey with us today!"),(0,o._)("div",{id:"map"})],-1),Ge=[Ke];function Qe(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("div",Je,Ge)}var Xe=s(3153),et=s.n(Xe),tt=(s(9308),{name:"LocationsPage",data(){return{mapData:{markerCoords:[[42.337803,-3.706235],[42.355248,-3.675572],[42.357944,-3.648675],[42.369074,-3.736898]]}}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$nextTick((()=>{this.initMap(),this.getUserLocation()}))},methods:{initMap(){this.mapData.map=et().map("map").setView([42.343926,-3.696977],13);const e=et().yandex();e.addTo(this.mapData.map),this.mapData.markerIcon=et().icon({iconUrl:"https://cdn4.iconfinder.com/data/icons/small-n-flat/24/map-marker-512.png",iconSize:[50,50]});for(let t of this.mapData.markerCoords)et().marker(t,{icon:this.mapData.markerIcon}).addTo(this.mapData.map)},getUserLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:s}=e.coords;this.showUserLocation([t,s])}),(e=>{console.error(`Error getting user location: ${e.message}`)}))}}});const st=(0,C.Z)(tt,[["render",Qe]]);var nt=st;const ot={class:"main-container"},it=(0,o.uE)('<div id="contact"><h1>📧 Contact</h1><p>Hey there! I&#39;m Hector Martinez</p><p> If you have questions, suggestions, or just want to say hello, feel free to get in touch. </p><br><p> 💻 Contact me via email at <a class="link" href="#">contact@customers2024.com</a></p><p>or through my social networks 😎</p><div class="social-icons"><a class="icon" href="https://github.com/hnezado" target="_blank" title="GitHub"><svg width="30px" height="30px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm3.163 21.783h-.093a.513.513 0 0 1-.382-.14.513.513 0 0 1-.14-.372v-1.406c.006-.467.01-.94.01-1.416a3.693 3.693 0 0 0-.151-1.028 1.832 1.832 0 0 0-.542-.875 8.014 8.014 0 0 0 2.038-.471 4.051 4.051 0 0 0 1.466-.964c.407-.427.71-.943.885-1.506a6.77 6.77 0 0 0 .3-2.13 4.138 4.138 0 0 0-.26-1.476 3.892 3.892 0 0 0-.795-1.284 2.81 2.81 0 0 0 .162-.582c.033-.2.05-.402.05-.604 0-.26-.03-.52-.09-.773a5.309 5.309 0 0 0-.221-.763.293.293 0 0 0-.111-.02h-.11c-.23.002-.456.04-.674.111a5.34 5.34 0 0 0-.703.26 6.503 6.503 0 0 0-.661.343c-.215.127-.405.249-.573.362a9.578 9.578 0 0 0-5.143 0 13.507 13.507 0 0 0-.572-.362 6.022 6.022 0 0 0-.672-.342 4.516 4.516 0 0 0-.705-.261 2.203 2.203 0 0 0-.662-.111h-.11a.29.29 0 0 0-.11.02 5.844 5.844 0 0 0-.23.763c-.054.254-.08.513-.081.773 0 .202.017.404.051.604.033.199.086.394.16.582A3.888 3.888 0 0 0 5.702 10a4.142 4.142 0 0 0-.263 1.476 6.871 6.871 0 0 0 .292 2.12c.181.563.483 1.08.884 1.516.415.422.915.75 1.466.964.653.25 1.337.41 2.033.476a1.828 1.828 0 0 0-.452.633 2.99 2.99 0 0 0-.2.744 2.754 2.754 0 0 1-1.175.27 1.788 1.788 0 0 1-1.065-.3 2.904 2.904 0 0 1-.752-.824 3.1 3.1 0 0 0-.292-.382 2.693 2.693 0 0 0-.372-.343 1.841 1.841 0 0 0-.432-.24 1.2 1.2 0 0 0-.481-.101c-.04.001-.08.005-.12.01a.649.649 0 0 0-.162.02.408.408 0 0 0-.13.06.116.116 0 0 0-.06.1.33.33 0 0 0 .14.242c.093.074.17.131.232.171l.03.021c.133.103.261.214.382.333.112.098.213.209.3.33.09.119.168.246.231.381.073.134.15.288.231.463.188.474.522.875.954 1.145.453.243.961.364 1.476.351.174 0 .349-.01.522-.03.172-.028.343-.057.515-.091v1.743a.5.5 0 0 1-.533.521h-.062a10.286 10.286 0 1 1 6.324 0v.005z"></path></svg></a><a href="https://www.linkedin.com/in/hector-md" target="_blank" title="LinkedIn" class="icon"><svg height="30px" width="30px" version="1.1" viewBox="0 0 310 310"><g><path d="M72.16,99.73H9.927c-2.762,0-5,2.239-5,5v199.928c0,2.762,2.238,5,5,5H72.16c2.762,0,5-2.238,5-5V104.73\n      C77.16,101.969,74.922,99.73,72.16,99.73z"></path><path d="M41.066,0.341C18.422,0.341,0,18.743,0,41.362C0,63.991,18.422,82.4,41.066,82.4\n      c22.626,0,41.033-18.41,41.033-41.038C82.1,18.743,63.692,0.341,41.066,0.341z"></path><path d="M230.454,94.761c-24.995,0-43.472,10.745-54.679,22.954V104.73c0-2.761-2.238-5-5-5h-59.599\n      c-2.762,0-5,2.239-5,5v199.928c0,2.762,2.238,5,5,5h62.097c2.762,0,5-2.238,5-5v-98.918c0-33.333,9.054-46.319,32.29-46.319\n      c25.306,0,27.317,20.818,27.317,48.034v97.204c0,2.762,2.238,5,5,5H305c2.762,0,5-2.238,5-5V194.995\n      C310,145.43,300.549,94.761,230.454,94.761z"></path></g></svg></a></div></div>',1),at=[it];function rt(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("div",ot,at)}var lt={name:"ContactPage",mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path})}};const ct=(0,C.Z)(lt,[["render",rt]]);var ut=ct;const dt={key:0,class:"main-container"},ht={id:"catalog"},pt={class:"prod-card-frm-img"},gt=["src","alt"],mt={class:"prod-card-frm-data"},vt={class:"prod-card-frm-data-cat-container"},wt=(0,o._)("button",{class:"button"},"View details",-1);function ft(e,t,s,n,a,r){return a.noResponse?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",dt,[(0,o._)("div",ht,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.productsData,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"prod-card"},[(0,o._)("div",pt,[(0,o._)("img",{src:r.getImgsPath(e),alt:e.name},null,8,gt)]),(0,o._)("div",mt,[(0,o._)("h3",null,(0,i.zw)(e.name),1),(0,o._)("div",vt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.categories.split(","),((e,t)=>((0,o.wg)(),(0,o.iD)("span",{key:t,class:"prod-card-cat"},(0,i.zw)(e.trim()),1)))),128))]),(0,o._)("p",null,[(0,o._)("strong",null,(0,i.zw)(e.manufacturer),1),(0,o.Uk)(" "+(0,i.zw)(e.model),1)]),(0,o._)("h2",null,(0,i.zw)(e.price)+"€",1),wt])])))),128))])]))}var kt={name:"CatalogPage",data(){return{noResponse:!1,productsData:null}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$eventBus.emit("loading",{status:!0}),setTimeout((()=>{this.fetchProductsData(),this.$eventBus.emit("loading",{status:!1})}),2e3)},beforeUnmount(){this.$eventBus.emit("loading",{status:!1})},methods:{async fetchProductsData(){try{const e=await fetch(`${this.$config.serverUrl}/catalog`),t=await e.json();Array.isArray(t)?t.length>0&&(this.productsData=t):(this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path}))}catch(e){console.error("Error fetching data from server",e)}},getImgsPath(e){const t=e.manufacturer.toLowerCase().replace(/ /g,"-"),s=e.model.toLowerCase().replace(/ /g,"-"),n=`${t}_${s}`;return`/media/products/${n}/${n}.webp`}}};const _t=(0,C.Z)(kt,[["render",ft]]);var yt=_t;const Dt={key:0,class:"main-container"},bt={id:"customers-list"},Ct=(0,o._)("h1",null,"Customers list",-1),$t={class:"infoMsg"},St={key:0,class:"table-container"},Mt=(0,o._)("p",null,"Are you sure you want to delete this user?",-1),xt={class:"options-container"},Ut={class:"table-data"},zt=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"First Name"),(0,o._)("th",null,"Last Name"),(0,o._)("th",null,"Email"),(0,o._)("th",null,"Phone"),(0,o._)("th",null,"Birthdate"),(0,o._)("th",null,"Actions")])],-1),Bt={class:"table-actions"},Lt=["onClick"],Tt=(0,o._)("path",{d:"M968.161,31.839c36.456,36.456,36.396,95.547,0,132.003l-43.991,43.991L792.138,75.83l43.991-43.991\n\tC872.583-4.586,931.704-4.617,968.161,31.839z M308.238,559.79l-43.96,175.963l175.963-43.991l439.938-439.938L748.147,119.821\n\tL308.238,559.79z M746.627,473.387v402.175H124.438V253.373h402.204l124.407-124.438H0V1000h871.064V348.918L746.627,473.387z"},null,-1),It=[Tt],Pt=["onClick"],Ot=(0,o._)("path",{d:"M381.163,57.799h-75.094C302.323,25.316,274.686,0,241.214,0c-33.471,0-61.104,25.315-64.85,57.799h-75.098\n                    c-30.39,0-55.111,24.728-55.111,55.117v2.828c0,23.223,14.46,43.1,34.83,51.199v260.369c0,30.39,24.724,55.117,55.112,55.117\n                    h210.236c30.389,0,55.111-24.729,55.111-55.117V166.944c20.369-8.1,34.83-27.977,34.83-51.199v-2.828\n                    C436.274,82.527,411.551,57.799,381.163,57.799z M241.214,26.139c19.037,0,34.927,13.645,38.443,31.66h-76.879\n                    C206.293,39.783,222.184,26.139,241.214,26.139z M375.305,427.312c0,15.978-13,28.979-28.973,28.979H136.096\n                    c-15.973,0-28.973-13.002-28.973-28.979V170.861h268.182V427.312z M410.135,115.744c0,15.978-13,28.979-28.973,28.979H101.266\n                    c-15.973,0-28.973-13.001-28.973-28.979v-2.828c0-15.978,13-28.979,28.973-28.979h279.897c15.973,0,28.973,13.001,28.973,28.979\n                    V115.744z"},null,-1),Et=(0,o._)("path",{d:"M171.144,422.863c7.218,0,13.069-5.853,13.069-13.068V262.641c0-7.216-5.852-13.07-13.069-13.07\n                    c-7.217,0-13.069,5.854-13.069,13.07v147.154C158.074,417.012,163.926,422.863,171.144,422.863z"},null,-1),Rt=(0,o._)("path",{d:"M241.214,422.863c7.218,0,13.07-5.853,13.07-13.068V262.641c0-7.216-5.854-13.07-13.07-13.07\n                    c-7.217,0-13.069,5.854-13.069,13.07v147.154C228.145,417.012,233.996,422.863,241.214,422.863z"},null,-1),qt=(0,o._)("path",{d:"M311.284,422.863c7.217,0,13.068-5.853,13.068-13.068V262.641c0-7.216-5.852-13.07-13.068-13.07\n                    c-7.219,0-13.07,5.854-13.07,13.07v147.154C298.213,417.012,304.067,422.863,311.284,422.863z"},null,-1),At=[Ot,Et,Rt,qt];function Vt(e,t,s,n,a,r){return a.noResponse?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Dt,[(0,o._)("div",bt,[Ct,(0,o._)("div",$t,(0,i.zw)(a.infoMsg),1),a.customersData?((0,o.wg)(),(0,o.iD)("div",St,[(0,o._)("div",{class:(0,i.C_)(["confirm-win",{"confirm-win-show":a.confirmWinEnabled}])},[Mt,(0,o._)("div",xt,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>r.deleteCustomer(a.cachedCustomerId)),type:"button",class:"button"}," Accept "),(0,o._)("button",{onClick:t[1]||(t[1]=e=>r.toggleConfirmWindow(null,!1)),type:"button",class:"button"}," Cancel ")])],2),(0,o._)("table",Ut,[zt,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.customersData,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",null,(0,i.zw)(e.firstname),1),(0,o._)("td",null,(0,i.zw)(e.lastname),1),(0,o._)("td",null,(0,i.zw)(e.email),1),(0,o._)("td",null,(0,i.zw)(e.phone),1),(0,o._)("td",null,(0,i.zw)(e.birthdate),1),(0,o._)("td",null,[(0,o._)("div",Bt,[((0,o.wg)(),(0,o.iD)("svg",{onClick:t=>r.editCustomer(e.id),width:"20px",height:"20px",viewBox:"0 0 1000 1000","aria-label":"icon-edit"},It,8,Lt)),((0,o.wg)(),(0,o.iD)("svg",{onClick:t=>r.toggleConfirmWindow(e.id,!0),width:"20px",height:"20px",viewBox:"0 0 482.428 482.429","aria-label":"icon-delete"},At,8,Pt))])])])))),128))])])])):(0,o.kq)("",!0)])]))}var Nt={name:"CustomersList",data(){return{session:{},noResponse:!1,infoMsg:"",customersData:null,cachedCustomerId:null,confirmWinEnabled:!1}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$eventBus.on("session",this.handleSession);const[e,t]=this.checkSession();t?(this.updateSession(e,t),this.$eventBus.emit("loading",{status:!0}),setTimeout((()=>{this.fetchCustomersData(),this.$eventBus.emit("loading",{status:!1})}),2e3)):this.$router.push("/login")},beforeUnmount(){this.$eventBus.emit("loading",{status:!1})},methods:{handleSession(e){e.logged||this.$router.push("/login")},checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return[JSON.parse(e),t]},updateSession(e,t){this.session.userData=e,this.session.logged=t},async fetchCustomersData(){try{const e=await fetch(`${this.$config.serverUrl}/customers/list`),t=await e.json();Array.isArray(t)&&t.length?this.customersData=t:(this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path}))}catch(e){console.error("Error fetching data from server",e)}},refreshPage(){"undefined"!==typeof window?window.location.reload():console.error("The page cannot refresh")},editCustomer(e){this.$router.push({name:"edit",params:{id:e}})},toggleConfirmWindow(e,t){this.cachedCustomerId=e,this.confirmWinEnabled=t,this.$eventBus.emit("togglePopup",{opened:t})},async deleteCustomer(e){this.toggleConfirmWindow(null,!1);try{const t=await fetch(`${this.$config.serverUrl}/customers/delete/${e}`,{method:"PATCH"});t.ok?(this.infoMsg="Customer deleted successfully",this.fetchCustomersData()):console.error(`Failed to delete customer with ID "${e}".`)}catch(t){console.error("Error deleting customer.",t)}}}};const jt=(0,C.Z)(Nt,[["render",Vt]]);var Wt=jt;const Ht={key:0,class:"main-container"},Ft={key:0,id:"customer-edit"},Yt={class:"edit-card"},Zt=(0,o._)("h1",null,"Edit Customer",-1),Jt=(0,o._)("hr",null,null,-1),Kt={class:"label-input-groups"},Gt=(0,o._)("label",{for:"firstname"},"Firstname: ",-1),Qt=(0,o._)("label",{for:"lastname"},"Lastname: ",-1),Xt=(0,o._)("label",{for:"email"},"Email: ",-1),es=(0,o._)("label",{for:"birthdate"},"Birthdate: ",-1),ts=(0,o._)("label",{for:"phone"},"Phone number: ",-1),ss=(0,o._)("button",{class:"button",type:"submit"},"Save",-1),ns={key:1,class:"infoMsg"},os=(0,o._)("p",null,"Data updated Successfully",-1),is=(0,o._)("div",null,null,-1);function as(e,t,s,a,r,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.noResponse?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Ht,[r.customerData&&!r.editedOkMsg?((0,o.wg)(),(0,o.iD)("div",Ft,[(0,o._)("div",Yt,[Zt,Jt,(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,n.iM)((e=>l.saveEdit(r.customerData.id)),["prevent"]))},[(0,o._)("div",Kt,[Gt,(0,o.wy)((0,o._)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>r.customerData.firstname=e),required:""},null,512),[[n.nr,r.customerData.firstname]]),Qt,(0,o.wy)((0,o._)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=e=>r.customerData.lastname=e),required:""},null,512),[[n.nr,r.customerData.lastname]]),Xt,(0,o.wy)((0,o._)("input",{type:"text",id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>r.customerData.email=e),required:""},null,512),[[n.nr,r.customerData.email]]),es,(0,o.wy)((0,o._)("input",{type:"text",id:"birthdate","onUpdate:modelValue":t[3]||(t[3]=e=>r.customerData.birthdate=e),required:""},null,512),[[n.nr,r.customerData.birthdate]]),ts,(0,o.wy)((0,o._)("input",{type:"text",id:"phone","onUpdate:modelValue":t[4]||(t[4]=e=>r.customerData.phone=e),required:""},null,512),[[n.nr,r.customerData.phone]])]),ss,(0,o._)("button",{class:"button",onClick:t[5]||(t[5]=(...e)=>l.cancelEdit&&l.cancelEdit(...e))},"Cancel")],32)])])):(0,o.kq)("",!0),r.editedOkMsg?((0,o.wg)(),(0,o.iD)("div",ns,[os,(0,o._)("p",null,(0,i.zw)(r.editedOkMsg),1)])):(0,o.kq)("",!0)])),is],64)}var rs={name:"CustomerEdit",data(){return{noResponse:!1,customerData:{},editedOkMsg:""}},mounted(){this.$eventBus.emit("loading",{status:!0}),this.$eventBus.emit("noResponse",{status:!1}),setTimeout((async()=>{await this.fetchCustomerData(this.$route.params.id),this.$eventBus.emit("loading",{status:!1})}),1e3)},methods:{async fetchCustomerData(e){try{const t=await fetch(`${this.$config.serverUrl}/customer/${e}`),s=await t.json();Array.isArray(s)&&s.length&&Object.keys(s[0]).length?this.customerData=s[0]:(this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path}))}catch(t){console.error("Error fetching data from server",t)}},async saveEdit(e){try{const t=await fetch(`${this.$config.serverUrl}/customer/edit/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.customerData)});t.ok?this.redirectToList():(console.log("no response?"),this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path}))}catch(t){console.error("Error updating customer",t)}},cancelEdit(){this.$router.push("/customers/list")},redirectToList(){this.editedOkMsg="Redirecting in 3s...";let e=3;const t=setInterval((()=>{e-=1,console.log("editedOkMsg:",this.editedOkMsg),this.editedOkMsg=`Redirecting in ${e}s...`,e<=0&&(clearInterval(t),this.$router.push("/customers/list"))}),1e3)}}};const ls=(0,C.Z)(rs,[["render",as]]);var cs=ls;const us=[{path:"/",name:"home",component:oe},{path:"/signup",name:"signup",component:ye},{path:"/login",name:"login",component:Oe},{path:"/profile",name:"profile",component:Ze},{path:"/locations",name:"locations",component:nt},{path:"/contact",name:"contact",component:ut},{path:"/catalog",name:"catalog",component:yt},{path:"/customers/list",name:"customers-list",component:Wt},{path:"/edit/:id",name:"edit",component:cs}],ds=(0,Y.p7)({history:(0,Y.PO)(),routes:us});var hs=ds,ps=s(1373),gs=JSON.parse('{"serverUrl":"http://192.168.1.10:8084"}');const ms=(0,n.ri)(F);ms.config.globalProperties.$config=gs,ms.config.globalProperties.$eventBus=(0,ps.Z)(),ms.use(hs).mount("#app")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,n,o,i){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],i=e[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(r=!1,i<a&&(a=i));if(r){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var u=l(s)}for(t&&t(n);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(9362)}));n=s.O(n)})();
//# sourceMappingURL=app.e50abe89.js.map