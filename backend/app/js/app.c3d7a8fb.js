(function(){"use strict";var e={326:function(e,t,s){var n=s(9242),i=s(3396),o=s(7139);function a(e,t,s,n,a,r){const l=(0,i.up)("NavBar"),u=(0,i.up)("router-view"),c=(0,i.up)("NoResponse"),d=(0,i.up)("Spinner");return(0,i.wg)(),(0,i.iD)(i.HY,null,[a.smallScreen?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(["overlay-darkener",{"darkener-active":a.openedMenu}])},null,2)):(0,i.kq)("",!0),(0,i.Wm)(l),(0,i.Wm)(u),(0,i.Wm)(c,{responseData:a.noResponse},null,8,["responseData"]),(0,i.Wm)(d,{isLoading:a.isLoading},null,8,["isLoading"])],64)}const r={key:1,id:"navbar"},l={id:"page-links"},u={key:0},c={key:0},d=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -256 1792 1792",class:"profile-icon"},[(0,i._)("use",{"xlink:href":"media/icon_profile.svg#icon-profile"})],-1),h=(0,i._)("br",null,null,-1),m=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -256 1792 1792"},[(0,i._)("use",{"xlink:href":"media/icon_profile.svg#icon-profile"})],-1),p=(0,i._)("hr",null,null,-1),g=(0,i._)("br",null,null,-1);function v(e,t,s,n,a,v){const w=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[a.smallScreen?((0,i.wg)(),(0,i.iD)("div",{key:0,id:"menu-toggle",onClick:t[0]||(t[0]=(...e)=>v.toggleMenu&&v.toggleMenu(...e)),style:(0,o.j5)({color:a.menuToggleColor})},(0,o.zw)(a.openedMenu?"✖":"☰"),5)):(0,i.kq)("",!0),a.smallScreen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("nav",r,[(0,i._)("ul",l,[(0,i._)("li",null,[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/")),to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/catalog")),to:"/catalog"},{default:(0,i.w5)((()=>[(0,i.Uk)("Products")])),_:1},8,["class"])]),a.session.logged?((0,i.wg)(),(0,i.iD)("li",u,[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/customers/list")),to:"/customers/list"},{default:(0,i.w5)((()=>[(0,i.Uk)("Customers")])),_:1},8,["class"])])):(0,i.kq)("",!0),(0,i._)("li",null,[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/locations")),to:"/locations"},{default:(0,i.w5)((()=>[(0,i.Uk)("Locations")])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/contact")),to:"/contact"},{default:(0,i.w5)((()=>[(0,i.Uk)("Contact")])),_:1},8,["class"])])]),a.session.logged?((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(w,{class:(0,o.C_)([v.getTabClass("/profile"),"profile-link"]),to:"/profile"},{default:(0,i.w5)((()=>[d,(0,i._)("span",null,(0,o.zw)(a.session.userData.username),1)])),_:1},8,["class"])])):(0,i.kq)("",!0)])),a.smallScreen?((0,i.wg)(),(0,i.iD)("div",{key:2,id:"v-menu",class:(0,o.C_)({"v-menu-active":a.openedMenu})},[(0,i._)("ul",null,[a.session.logged?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"profile-but",onClick:t[1]||(t[1]=(...e)=>v.hideMenu&&v.hideMenu(...e))},[h,(0,i.Wm)(w,{class:(0,o.C_)([v.getTabClass("/profile"),"profile-link"]),to:"/profile"},{default:(0,i.w5)((()=>[m,(0,i.Uk)(" "+(0,o.zw)(a.session.userData.username),1)])),_:1},8,["class"])])):(0,i.kq)("",!0),p,g,(0,i._)("li",{onClick:t[2]||(t[2]=(...e)=>v.hideMenu&&v.hideMenu(...e))},[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/")),to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1},8,["class"])]),(0,i._)("li",{onClick:t[3]||(t[3]=(...e)=>v.hideMenu&&v.hideMenu(...e))},[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/catalog")),to:"/catalog"},{default:(0,i.w5)((()=>[(0,i.Uk)("Products")])),_:1},8,["class"])]),a.session.logged?((0,i.wg)(),(0,i.iD)("li",{key:1,onClick:t[4]||(t[4]=(...e)=>v.hideMenu&&v.hideMenu(...e))},[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/customers/list")),to:"/customers/list"},{default:(0,i.w5)((()=>[(0,i.Uk)("Customers")])),_:1},8,["class"])])):(0,i.kq)("",!0),(0,i._)("li",{onClick:t[5]||(t[5]=(...e)=>v.hideMenu&&v.hideMenu(...e))},[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/locations")),to:"/locations"},{default:(0,i.w5)((()=>[(0,i.Uk)("Locations")])),_:1},8,["class"])]),(0,i._)("li",{onClick:t[6]||(t[6]=(...e)=>v.hideMenu&&v.hideMenu(...e))},[(0,i.Wm)(w,{class:(0,o.C_)(v.getTabClass("/contact")),to:"/contact"},{default:(0,i.w5)((()=>[(0,i.Uk)("Contact")])),_:1},8,["class"])])])],2)):(0,i.kq)("",!0)],64)}var w={name:"NavBar",data(){return{smallScreen:!1,session:{},openedMenu:!1,menuToggleColor:"#333333",viewActive:""}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize),this.$eventBus.on("session",this.handleSession),this.$eventBus.on("viewActive",this.handleViewActive),this.$eventBus.emit("toggleMenu",{opened:!1});const[e,t]=this.checkSession();t&&this.updateSession(e,t)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize),this.$eventBus.off("session",this.handleSession)},computed:{computedMenuToggleColor(){return this.menuToggleColor}},methods:{checkScreenSize(){this.smallScreen=window.innerWidth<=768},checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return[t?JSON.parse(e):{},t]},updateSession(e,t){this.session.userData=e,this.session.logged=t},handleSession(e){this.session.logged=e.logged,this.session.userData=JSON.parse(sessionStorage.getItem("userData"))},handleViewActive(e){this.viewActive=e.view},toggleMenu(){this.openedMenu=!this.openedMenu,this.menuToggleColor=this.openedMenu?"#FFFFFF":"#333333",this.$eventBus.emit("toggleMenu",{opened:this.openedMenu})},hideMenu(){this.openedMenu=!1,this.menuToggleColor=this.openedMenu?"#FFFFFF":"#333333",this.$eventBus.emit("toggleMenu",{opened:this.openedMenu})},getTabClass(e){return this.viewActive===e?"tab-active":"tab-inactive"}}},f=s(89);const _=(0,f.Z)(w,[["render",v]]);var k=_;const y={key:0,class:"main-container"},b=(0,i._)("h2",null,"No response",-1),D={class:"info"},S=(0,i._)("br",null,null,-1);function $(e,t,s,n,a,r){return a.status?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("div",null,[b,(0,i._)("div",D,[(0,i._)("p",null,[(0,i.Uk)(" Path: "),(0,i._)("em",null,(0,o.zw)(a.path),1)]),(0,i._)("p",null,[(0,i.Uk)(" Component: "),(0,i._)("em",null,(0,o.zw)(a.pageName),1)]),S,(0,i._)("a",{onClick:t[0]||(t[0]=(...e)=>r.refreshPage&&r.refreshPage(...e)),class:"link"},"Refresh")])])])):(0,i.kq)("",!0)}var C={name:"NoResponsePage",props:{responseData:Object},data(){return{status:!1,pageName:"",path:""}},mounted(){this.updateData(this.responseData)},methods:{updateData(e){this.status=e.status,this.pageName=e.pageName,this.path=e.path},refreshPage(){"undefined"!==typeof window?window.location.reload():console.error("The page cannot refresh")}},watch:{responseData:{handler(e){this.updateData(e)}}}};const M=(0,f.Z)(C,[["render",$]]);var U=M;const T={key:0,class:"loader-spinner"},B={class:"spinner-overlay"},L=(0,i._)("div",{class:"spinner"},null,-1),I={class:"loading-text"},z={class:"dots"};function O(e,t,s,n,a,r){return s.isLoading?((0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("div",B,[L,(0,i._)("p",I,[(0,i.Uk)(" Loading"),(0,i._)("span",z,(0,o.zw)(a.loadingText),1)])])])):(0,i.kq)("",!0)}var q={name:"LoaderSpinner",props:{isLoading:Boolean},data(){return{loadingText:"",textIndex:0,textChangeInterval:null}},methods:{changeText(){const e=["",".","..","...","..","."];this.loadingText=e[this.textIndex],this.textIndex=(this.textIndex+1)%e.length}},watch:{isLoading:{handler(){this.isLoading?this.textChangeInterval=setInterval(this.changeText,2e3/6):clearInterval(this.textChangeInterval)}}}};const x=(0,f.Z)(q,[["render",O]]);var N=x,P={name:"App",components:{NavBar:k,Spinner:N,NoResponse:U},data(){return{smallScreen:!1,inactivityTimeout:null,isLoading:!1,noResponse:{},serverUrl:"",openedMenu:!1}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize),document.addEventListener("mousemove",this.resetInactivityTimeout),document.addEventListener("keydown",this.resetInactivityTimeout),this.$eventBus.on("loading",this.checkLoading),this.$eventBus.on("noResponse",this.checkNoResponse),this.$eventBus.on("toggleMenu",this.toggleMenu)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize),document.removeEventListener("mousemove",this.resetInactivityTimeout),document.removeEventListener("keydown",this.resetInactivityTimeout),this.$eventBus.off("inactivityTimeout",this.resetInactivityTimeout),this.$eventBus.off("loading",this.checkLoading),this.$eventBus.off("noResponse",this.checkNoResponse),this.$eventBus.off("toggleMenu",this.toggleMenu)},methods:{checkScreenSize(){this.smallScreen=window.innerWidth<=768},resetInactivityTimeout(){clearTimeout(this.inactivityTimeout),this.inactivityTimeout=setTimeout(this.clearSession,5e5)},clearSession(){const e=sessionStorage.getItem("userData");console.log("Clearing current Session:",e),sessionStorage.clear();const t=sessionStorage.getItem("userData");console.log("Cleared session:",t),this.$eventBus.emit("session",{logged:!1})},checkLoading(e){this.isLoading=e.status},checkNoResponse(e){this.noResponse=e},toggleMenu(e){this.openedMenu=e.opened}}};const R=(0,f.Z)(P,[["render",a]]);var E=R,j=s(2483);const A={class:"main-container"},W=(0,i._)("div",{class:"title"},[(0,i._)("h1",null,"Customers 2024")],-1),H={class:"welcome-section"},V=(0,i._)("h2",null,"Welcome!",-1),F={class:"welcome-card"},Z=(0,i._)("span",null,[(0,i.Uk)("If you already have an account, "),(0,i._)("a",{href:"/login",class:"link"},"login"),(0,i.Uk)(".")],-1),J=(0,i.uE)("<br><hr><br><article><h2>Article</h2><p> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Donec a diam lectus. Set sit amet ipsum mauris. Maecenas congue ligula as quam viverra nec consectetur ant hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue. Nam tincidunt congue enim, ut porta lorem lacinia consectetur. </p><h3>Subsection</h3><p> Donec ut librero sed accu vehicula ultricies a non tortor. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aenean ut gravida lorem. Ut turpis felis, pulvinar a semper sed, adipiscing id dolor. </p><p> Pelientesque auctor nisi id magna consequat sagittis. Curabitur dapibus, enim sit amet elit pharetra tincidunt feugiat nist imperdiet. Ut convallis libero in urna ultrices accumsan. Donec sed odio eros. </p><h3>Another subsection</h3><p> Donec viverra mi quis quam pulvinar at malesuada arcu rhoncus. Cum soclis natoque penatibus et manis dis parturient montes, nascetur ridiculus mus. In rutrum accumsan ultricies. Mauris vitae nisi at sem facilisis semper ac in est. </p><p> Vivamus fermentum semper porta. Nunc diam velit, adipscing ut tristique vitae sagittis vel odio. Maecenas convallis ullamcorper ultricied. Curabitur ornare, ligula semper consectetur sagittis, nisi diam iaculis velit, is fringille sem nunc vet mi. </p></article>",4);function Y(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",A,[W,(0,i._)("section",H,[V,(0,i._)("div",F,[(0,i._)("div",{onClick:t[0]||(t[0]=(...e)=>a.signup&&a.signup(...e)),class:"button"},"Sign Up"),Z]),J])])}s(560);var K={name:"HomePage",mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path})},methods:{signup(){this.$router.push("/signup")}}};const G=(0,f.Z)(K,[["render",Y]]);var Q=G;const X={class:"main-container"},ee={class:"section-card"},te=(0,i._)("h1",null,"Sign up",-1),se=(0,i._)("hr",null,null,-1),ne={class:"signup"},ie={class:"input-groups"},oe={class:"input-pair"},ae=(0,i._)("label",{for:"email"},"Email:",-1),re={class:"input-pair"},le=(0,i._)("label",{for:"username"},"Username:",-1),ue={class:"input-pair"},ce=(0,i._)("label",{for:"password1"},"Password:",-1),de={class:"input-pair"},he=(0,i._)("label",{for:"password2"},"Re-enter password:",-1),me={class:"infoMsg"},pe=(0,i._)("button",{class:"button",type:"submit"},"Sign up",-1),ge=(0,i._)("br",null,null,-1),ve=(0,i._)("span",null,[(0,i._)("a",{href:"/login",class:"link"},"Login"),(0,i.Uk)(" instead?")],-1);function we(e,t,s,a,r,l){return(0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("section",ee,[te,se,(0,i._)("div",ne,[(0,i._)("form",{onSubmit:t[4]||(t[4]=(0,n.iM)(((...e)=>l.signup&&l.signup(...e)),["prevent"]))},[(0,i._)("div",ie,[(0,i._)("div",oe,[ae,(0,i.wy)((0,i._)("input",{type:"text",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.newUser.email=e),required:""},null,512),[[n.nr,r.newUser.email]])]),(0,i._)("div",re,[le,(0,i.wy)((0,i._)("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=e=>r.newUser.username=e),required:""},null,512),[[n.nr,r.newUser.username]])]),(0,i._)("div",ue,[ce,(0,i.wy)((0,i._)("input",{type:"password",id:"password1","onUpdate:modelValue":t[2]||(t[2]=e=>r.newUser.password1=e),required:""},null,512),[[n.nr,r.newUser.password1]])]),(0,i._)("div",de,[he,(0,i.wy)((0,i._)("input",{type:"password",id:"password2","onUpdate:modelValue":t[3]||(t[3]=e=>r.newUser.password2=e),required:""},null,512),[[n.nr,r.newUser.password2]])])]),(0,i._)("p",me,(0,o.zw)(r.infoMsg),1),pe],32),ge,ve])])])}var fe={name:"SignupPage",data(){return{newUser:{email:"",username:"",password1:"",password2:""},infoMsg:""}},mounted(){const e=this.checkSession();e&&this.$router.push("/profile"),this.$nextTick((()=>{const e=this.$el.querySelector("#email");e&&e.focus()}))},methods:{checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return t},isValidData(){return this.newUser.password1===this.newUser.password2||(this.infoMsg="Password does not match",!1)},async signup(){if(this.isValidData())try{const e={email:this.newUser.email,username:this.newUser.username,password:this.newUser.password1},t=await fetch(`${this.$config.serverUrl}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();this.infoMsg=s.message,t.ok?(sessionStorage.setItem("signupUsername",s.data.username),this.$router.push("/login")):console.error("Error signing up")}catch(e){console.error("Error querying signup")}}}};const _e=(0,f.Z)(fe,[["render",we]]);var ke=_e;const ye={class:"main-container"},be={class:"section-card"},De=(0,i._)("h1",null,"Login",-1),Se=(0,i._)("hr",null,null,-1),$e={class:"login"},Ce={class:"input-groups"},Me={class:"input-pair"},Ue=(0,i._)("label",{for:"username"},"Username:",-1),Te={class:"input-pair"},Be=(0,i._)("label",{for:"password"},"Password:",-1),Le={class:"infoMsg"},Ie=(0,i._)("button",{class:"button",type:"submit"},"Login",-1),ze=(0,i._)("br",null,null,-1),Oe=(0,i._)("span",null,[(0,i.Uk)("You don't have an account? "),(0,i._)("a",{href:"/signup",class:"link"},"Sign up")],-1);function qe(e,t,s,a,r,l){return(0,i.wg)(),(0,i.iD)("div",ye,[(0,i._)("section",be,[De,Se,(0,i._)("div",$e,[(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[(0,i._)("div",Ce,[(0,i._)("div",Me,[Ue,(0,i.wy)((0,i._)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.loginData.username=e),required:""},null,512),[[n.nr,r.loginData.username]])]),(0,i._)("div",Te,[Be,(0,i.wy)((0,i._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.loginData.password=e),required:""},null,512),[[n.nr,r.loginData.password]])])]),(0,i._)("p",Le,(0,o.zw)(r.infoMsg),1),Ie],32),ze,Oe])])])}var xe={name:"LoginPage",data(){return{loginData:{username:"",password:""},infoMsg:"",noResponse:!1}},mounted(){const e=this.checkSession();if(e)this.$router.push("/profile");else{const e=sessionStorage.getItem("signupUsername");this.loginData.username=e||"",this.$nextTick((()=>{const t=e?this.$el.querySelector("#password"):this.$el.querySelector("#username");t&&t.focus()}))}},methods:{checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return t},async login(){try{const e=await fetch(`${this.$config.serverUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.loginData)}),t=await e.json();this.infoMsg=t.message,e.ok?(sessionStorage.clear(),sessionStorage.setItem("userData",JSON.stringify(t.data)),this.$eventBus.emit("session",{logged:!0}),this.$router.push("/profile")):console.error("Error logging in from backend")}catch(e){console.error("No response"),this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path})}}}};const Ne=(0,f.Z)(xe,[["render",qe]]);var Pe=Ne;const Re={key:0,class:"main-container"},Ee={key:0,class:"profile"},je=(0,i._)("h1",null,"My Profile Data",-1),Ae={class:"table-container"},We={class:"table"},He=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Key"),(0,i._)("th",null,"Value")])],-1),Ve=(0,i._)("br",null,null,-1),Fe={key:1,class:"info"},Ze=(0,i._)("p",null,"Session closed",-1);function Je(e,t,s,n,a,r){return a.noResponse?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Re,[a.session.logged?((0,i.wg)(),(0,i.iD)("div",Ee,[je,(0,i._)("div",Ae,[(0,i._)("table",We,[He,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.session.userData,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,(0,o.zw)(t),1),(0,i._)("td",null,(0,o.zw)(e),1)])))),128))])])]),Ve,(0,i._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e))},"Log out")])):((0,i.wg)(),(0,i.iD)("div",Fe,[Ze,(0,i._)("p",null,(0,o.zw)(a.logoutMsg),1)]))]))}var Ye={name:"ProfilePage",data(){return{session:{},noResponse:!1,isLoading:!0,pageName:this.$options.name,path:this.$route.path,logoutMsg:""}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$eventBus.on("session",this.handleSession);const[e,t]=this.checkSession();t?this.updateSession(e,t):this.$router.push("/login")},beforeUnmount(){this.$eventBus.off("session",this.handleSession)},methods:{handleSession(e){e.logged||this.$router.push("/login")},checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return[t?JSON.parse(e):{},t]},updateSession(e,t){this.session.userData=e,this.session.logged=t},logout(){sessionStorage.clear(),this.session.logged=!1,this.redirectToLogin()},redirectToLogin(){this.logoutMsg="Redirecting in 3s...";let e=3;const t=setInterval((()=>{e-=1,this.logoutMsg=`Redirecting in ${e}s...`,e<=0&&(clearInterval(t),this.$eventBus.emit("session",{logged:!1}))}),1e3)}}};const Ke=(0,f.Z)(Ye,[["render",Je]]);var Ge=Ke;const Qe={class:"main-container"},Xe=(0,i._)("h1",null,"Our Locations",-1),et=(0,i._)("p",null," Explore our network of establishments to find the store closest to you. ",-1),tt=(0,i._)("p",null,"Begin your journey with us today!",-1),st=(0,i._)("div",{id:"map"},null,-1),nt=[Xe,et,tt,st];function it(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",Qe,nt)}var ot=s(3153),at=s.n(ot),rt=(s(9308),{name:"LocationsPage",data(){return{mapData:{markerCoords:[[42.337803,-3.706235],[42.355248,-3.675572],[42.357944,-3.648675],[42.369074,-3.736898]]}}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$nextTick((()=>{this.initMap(),this.getUserLocation()}))},methods:{initMap(){this.mapData.map=at().map("map").setView([42.343926,-3.696977],13);const e=at().yandex();e.addTo(this.mapData.map),this.mapData.markerIcon=at().icon({iconUrl:"https://cdn4.iconfinder.com/data/icons/small-n-flat/24/map-marker-512.png",iconSize:[50,50]});for(let t of this.mapData.markerCoords)at().marker(t,{icon:this.mapData.markerIcon}).addTo(this.mapData.map)},getUserLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:s}=e.coords;this.showUserLocation([t,s])}),(e=>{console.error(`Error getting user location: ${e.message}`)}))}}});const lt=(0,f.Z)(rt,[["render",it]]);var ut=lt;const ct={class:"main-container"},dt=(0,i.uE)('<h1>Contact</h1><p>Hey there! I&#39;m Hector Martinez</p><p> If you have questions, suggestions, or just want to say hello, feel free to get in touch. </p><br><p> 💻 Contact me via email at <a class="link" href="#">contact@customers2024.com</a></p><p>or through my social networks 😎</p><div class="social-icons"><a href="https://github.com/hnezado" target="_blank" class="icon" data-tooltip="GitHub"><img src="media/github.svg" alt="GitHub-icon"></a><a href="https://www.linkedin.com/in/hector-md/" target="_blank" class="icon" data-tooltip="LinkedIn"><img src="media/linkedin.svg" alt="LinkedIn-icon"></a></div>',7),ht=[dt];function mt(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",ct,ht)}var pt={name:"ContactPage",mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path})}};const gt=(0,f.Z)(pt,[["render",mt]]);var vt=gt;const wt={key:0,class:"main-container"},ft={class:"products-container"},_t={class:"product-card-frame-img"},kt=["src","alt"],yt={class:"product-card-frame-data"},bt={class:"product-card-categories-container"},Dt=(0,i._)("button",{class:"button"},"View details",-1);function St(e,t,s,n,a,r){return a.noResponse?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",wt,[(0,i._)("div",ft,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.productsData,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"product-card"},[(0,i._)("div",_t,[(0,i._)("img",{src:e.main_img,alt:e.name},null,8,kt)]),(0,i._)("div",yt,[(0,i._)("h3",null,(0,o.zw)(e.name),1),(0,i._)("div",bt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.categories.split(","),((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t,class:"product-card-category"},(0,o.zw)(e.trim()),1)))),128))]),(0,i._)("p",null,[(0,i._)("strong",null,(0,o.zw)(e.manufacturer),1),(0,i.Uk)(" "+(0,o.zw)(e.model),1)]),(0,i._)("h2",null,(0,o.zw)(e.price)+"€",1),Dt])])))),128))])]))}var $t={name:"CatalogPage",data(){return{noResponse:!1,productsData:null}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$eventBus.emit("loading",{status:!0}),setTimeout((()=>{this.fetchProductsData(),this.$eventBus.emit("loading",{status:!1})}),5e3)},beforeUnmount(){this.$eventBus.emit("loading",{status:!1})},methods:{async fetchProductsData(){try{const e=await fetch(`${this.$config.serverUrl}/catalog`),t=await e.json();Array.isArray(t)?t.length>0&&(this.productsData=t):(this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path}))}catch(e){console.error("Error fetching data from server",e)}}}};const Ct=(0,f.Z)($t,[["render",St]]);var Mt=Ct;const Ut={key:0,class:"main-container"},Tt={class:"content-container"},Bt=(0,i._)("h1",null,"Customers list",-1),Lt={key:0,class:"table-container"},It={class:"table"},zt=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"First Name"),(0,i._)("th",null,"Last Name"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Phone"),(0,i._)("th",null,"Birthdate"),(0,i._)("th",null,"Actions")])],-1),Ot={class:"table-actions"},qt=["onClick"],xt=["onClick"];function Nt(e,t,s,n,a,r){return!a.noResponse&&a.session.logged?((0,i.wg)(),(0,i.iD)("div",Ut,[(0,i._)("div",Tt,[Bt,a.customersData?((0,i.wg)(),(0,i.iD)("div",Lt,[(0,i._)("table",It,[zt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.customersData,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,(0,o.zw)(e.firstname),1),(0,i._)("td",null,(0,o.zw)(e.lastname),1),(0,i._)("td",null,(0,o.zw)(e.email),1),(0,i._)("td",null,(0,o.zw)(e.phone),1),(0,i._)("td",null,(0,o.zw)(e.birthdate),1),(0,i._)("td",null,[(0,i._)("div",Ot,[(0,i._)("img",{onClick:t=>r.editCustomer(e.id,e),src:"media/icon_edit.svg",alt:"Edit Icon"},null,8,qt),(0,i._)("img",{onClick:t=>r.deleteCustomer(e.id),src:"media/icon_delete.svg",alt:"Delete Icon"},null,8,xt)])])])))),128))])])])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)}var Pt={name:"CustomersList",data(){return{session:{},noResponse:!1,customersData:null}},mounted(){this.$eventBus.emit("viewActive",{view:this.$route.path}),this.$eventBus.on("session",this.handleSession);const[e,t]=this.checkSession();t?(this.updateSession(e,t),this.$eventBus.emit("loading",{status:!0}),setTimeout((()=>{this.fetchCustomersData(),this.$eventBus.emit("loading",{status:!1})}),5e3)):this.$router.push("/login")},beforeUnmount(){this.$eventBus.emit("loading",{status:!1})},methods:{handleSession(e){e.logged||this.$router.push("/login")},checkSession(){const e=sessionStorage.getItem("userData")||{},t=Boolean(Object.keys(e).length);return[JSON.parse(e),t]},updateSession(e,t){this.session.userData=e,this.session.logged=t},async fetchCustomersData(){try{const e=await fetch(`${this.$config.serverUrl}/customers/list`),t=await e.json();Array.isArray(t)?t.length>0&&(this.customersData=t):(this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path}))}catch(e){console.error("Error fetching data from server",e)}},refreshPage(){"undefined"!==typeof window?window.location.reload():console.error("The page cannot refresh")},editCustomer(e,t){this.$router.push({name:"edit",params:{id:e},query:{customerData:JSON.stringify(t)}})},async deleteCustomer(e){try{const t=await fetch(`${this.$config.serverUrl}/customers/delete/${e}`,{method:"PATCH"});t.ok?this.fetchCustomersData():console.error(`Failed to delete customer with ID "${e}".`)}catch(t){console.error("Error deleting customer.",t)}}}};const Rt=(0,f.Z)(Pt,[["render",Nt]]);var Et=Rt;const jt={key:0,class:"main-container"},At=(0,i._)("h1",null,"Edit Customer",-1),Wt={class:"table-container"},Ht={class:"table"},Vt=["for"],Ft=["onUpdate:modelValue","type","id"],Zt={class:"button-container"},Jt={key:1,class:"info"},Yt=(0,i._)("p",null,"Data updated Successfully",-1),Kt=(0,i._)("div",null,null,-1);function Gt(e,t,s,a,r,l){return(0,i.wg)(),(0,i.iD)(i.HY,null,[r.noResponse||!r.customerData||r.editedOkMsg?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",jt,[(0,i._)("div",null,[At,(0,i._)("div",Wt,[(0,i._)("table",Ht,[(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.editableKeys,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,[(0,i._)("label",{for:e},(0,o.zw)(e.replace(/^[a-z]/,(e=>e.toUpperCase()))),9,Vt)]),(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t=>r.customerData[e]=t,type:"number"===typeof r.customerData[e]?"number":"text",id:e,required:""},null,8,Ft),[[n.YZ,r.customerData[e]]])])])))),128))])]),(0,i._)("div",Zt,[(0,i._)("button",{class:"button",onClick:t[0]||(t[0]=e=>l.saveEdit(this.customerData.id))}," Save "),(0,i._)("button",{class:"button",onClick:t[1]||(t[1]=(...e)=>l.cancelEdit&&l.cancelEdit(...e))},"Cancel")])])])])),r.editedOkMsg?((0,i.wg)(),(0,i.iD)("div",Jt,[Yt,(0,i._)("p",null,(0,o.zw)(r.editedOkMsg),1)])):(0,i.kq)("",!0),Kt],64)}var Qt={name:"CustomerEdit",data(){return{noResponse:!1,customerData:void 0,editableKeys:["firstname","lastname","email","birthdate","phone"],editedOkMsg:""}},mounted(){this.$eventBus.emit("loading",{status:!0}),this.$eventBus.emit("noResponse",{status:!1}),setTimeout((()=>{this.customerData=JSON.parse(this.$route.query.customerData),this.$eventBus.emit("loading",{status:!1})}),1e3)},methods:{handleInputChange(e){console.log(`Input value: ${this.customerData[e]}`)},async saveEdit(e){try{const t=await fetch(`${this.$config.serverUrl}/customers/edit/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.customerData)});t.ok?this.redirectToList():(this.noResponse=!0,this.$eventBus.emit("noResponse",{status:!0,pageName:this.$options.name,path:this.$route.path}))}catch(t){console.error("Error updating customer",t)}},cancelEdit(){this.$router.push("/customers/list")},redirectToList(){this.editedOkMsg="Redirecting in 3s...";let e=3;const t=setInterval((()=>{e-=1,this.editedOkMsg=`Redirecting in ${e}s...`,e<=0&&(clearInterval(t),this.$router.push("/customers/list"))}),1e3)}}};const Xt=(0,f.Z)(Qt,[["render",Gt]]);var es=Xt;const ts=[{path:"/",name:"home",component:Q},{path:"/signup",name:"signup",component:ke},{path:"/login",name:"login",component:Pe},{path:"/profile",name:"profile",component:Ge},{path:"/locations",name:"locations",component:ut},{path:"/contact",name:"contact",component:vt},{path:"/catalog",name:"catalog",component:Mt},{path:"/customers/list",name:"customers-list",component:Et},{path:"/edit/:id",name:"edit",component:es}],ss=(0,j.p7)({history:(0,j.PO)(),routes:ts});var ns=ss,is=s(1373),os=JSON.parse('{"serverUrl":"http://192.168.1.10:8084"}');const as=(0,n.ri)(E);as.config.globalProperties.$config=os,as.config.globalProperties.$eventBus=(0,is.Z)(),as.use(ns).mount("#app")}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,i,o){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],o=e[c][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,i,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],r=n[1],l=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var c=l(s)}for(t&&t(n);u<a.length;u++)o=a[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(326)}));n=s.O(n)})();
//# sourceMappingURL=app.c3d7a8fb.js.map